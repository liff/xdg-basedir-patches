From 29269681e9d6c1fdd2631c5d35124bb1d366fced Mon Sep 17 00:00:00 2001
From: Olli Helenius <liff@iki.fi>
Date: Sun, 18 Dec 2022 17:12:59 +0200
Subject: [PATCH] Always prefer `XDG_CONFIG_HOME`

---
 cmd/root.go | 15 ++++-----------
 1 file changed, 4 insertions(+), 11 deletions(-)

diff --git a/cmd/root.go b/cmd/root.go
index d5b8c39..c337484 100644
--- a/cmd/root.go
+++ b/cmd/root.go
@@ -100,20 +100,13 @@ func Execute(ctx context.Context, version string) {
 }
 
 func configLocations() []string {
-	configFileName := ".actrc"
-
-	// reference: https://specifications.freedesktop.org/basedir-spec/latest/ar01s03.html
-	var actrcXdg string
-	for _, fileName := range []string{"act/actrc", configFileName} {
-		if foundConfig, err := xdg.SearchConfigFile(fileName); foundConfig != "" && err == nil {
-			actrcXdg = foundConfig
-			break
-		}
+	configFileName, err := xdg.ConfigFile("act/actrc")
+	if err != nil {
+		log.Fatal(err)
 	}
 
 	return []string{
-		filepath.Join(UserHomeDir, configFileName),
-		actrcXdg,
+		configFileName,
 		filepath.Join(".", configFileName),
 	}
 }
-- 
2.40.1

